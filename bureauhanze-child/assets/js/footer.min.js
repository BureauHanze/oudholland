function openPopup(e){document.getElementById(e).classList.toggle("active")}const openFaqContainer=document.querySelectorAll(".info__faq > .faq-item");for(let e=0;e<openFaqContainer.length;e++)openFaqContainer[e].onclick=function(){if(openFaqContainer[e].classList.contains("active"))openFaqContainer[e].classList.remove("active");else{for(let e of openFaqContainer)e.classList.remove("active");openFaqContainer[e].classList.add("active")}};function closePopup(e){document.getElementById(e).classList.remove("active")}function openSpecs(e){document.getElementById(e).classList.toggle("active");var t=document.querySelector("#specsWrap > div.more__specs");"Minder specificaties"===t.innerHTML?t.innerHTML="Meer specificaties":t.innerHTML="Minder specificaties"}function setCookie(e,t,o){var n="";if(o){var c=new Date;c.setTime(c.getTime()+1*o*60*60*1e3),n="; expires="+c.toUTCString()}document.cookie=e+"="+(t||"")+n+"; path=/"}function getCookie(e){for(var t=e+"=",o=document.cookie.split(";"),n=0;n<o.length;n++){for(var c=o[n];" "==c.charAt(0);)c=c.substring(1,c.length);if(0==c.indexOf(t))return c.substring(t.length,c.length)}return null}var popupCookie=getCookie("popupCookie");document.getElementById("can-i-help-popup").style.display=popupCookie?"none":"block",document.getElementById("can-i-help--close").onclick=function(){document.getElementById("can-i-help-popup").style.display="none",setCookie("popupCookie","popupCookievalue",7)};const addToCartButton=document.querySelector(".composite_data > div > div.composite_button"),productID=document.querySelector(".composite_data > div > div.composite_button > input[type=hidden]");if(addToCartButton&&addToCartButton.addEventListener("click",(function(){sessionStorage.setItem("productID",productID.value)})),window.sessionStorage.getItem("productID")){const e=document.getElementById("popup-accessoires"),t=document.getElementById("productAddedModalStandard"),o=document.getElementById("productAddedModalAdvanced");e?(o.style.display="block",o.classList.add("fade-in-bottom")):(t.style.display="block",t.classList.add("fade-in-bottom")),sessionStorage.clear()}function closePAM(){const e=document.getElementById("productAddedModalStandard"),t=document.getElementById("productAddedModalAdvanced");e.classList.remove("fade-in-bottom"),e.style.display="none",t.classList.remove("fade-in-bottom"),t.style.display="none",sessionStorage.clear()}const formProjectinrichting=document.querySelector(".wpcf7-form"),formStepBtnNext=document.getElementById("step__button-next"),formStepOne=document.querySelector(".step__one"),formStepTwo=document.querySelector(".step__two"),formSubmit=document.querySelector(".wpcf7-submit");function waitForElm(e){return new Promise((t=>{if(document.querySelector(e))return t(document.querySelector(e));const o=new MutationObserver((n=>{document.querySelector(e)&&(t(document.querySelector(e)),o.disconnect())}));o.observe(document.body,{childList:!0,subtree:!0})}))}function validateOptons(){performance.getEntriesByType("resource");performance.getEntriesByType("resource").filter((e=>"Rectangle-Copy-14.png"==e.name));var e=document.getElementsByClassName("component_option_thumbnails");const t=document.querySelector("div > div.composite_button > .single_add_to_cart_button");var o=0,n=0;for(let t of e){let e=t.children;o+=1;for(let t of e){let e=t.children;var c=0;for(let t of e)1,t.children[0].classList.contains("selected")&&(c+=1);c&&(n+=1)}}t&&(n===o?(t.style.opacity=1,t.style.pointerEvents="all"):(t.style.opacity=.6,t.style.pointerEvents="none"))}formProjectinrichting&&(formStepBtnNext.addEventListener("click",(function(e){formStepOne.style.display="none",formStepTwo.style.display="block"})),formSubmit.addEventListener("click",(function(e){waitForElm(".invalid").then((e=>{formStepOne.style.display="block",formStepTwo.style.display="block",formStepBtnNext.style.display="none"}))}))),window.addEventListener("load",(function(){document.querySelector("div.component_inner > div.component_selections > div.component_content > .component_summary > .product"),validateOptons();var e=document.getElementsByClassName("component_options_load_more");e[0]&&e[0].addEventListener("click",(()=>{setTimeout((()=>{validateOptons()}),2e3)}));var t=document.getElementsByClassName("product_summary");t[0]&&t[0].addEventListener("click",(()=>{validateOptons()}))})),document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelectorAll(".sub-menu");for(let o=0;o<e.length;o++){var t=document.createElement("div");t.className="sub-menu__overlay",e[o].appendChild(t)}}),!1);
var timeout,top1=!1,bottom=!1;function descPress(){var e=document.getElementById("description"),t=document.querySelector(".tab_info");(top1=!top1)?(e.classList.add("showDesc"),t.classList.add("rotateArrow")):(t.classList.remove("rotateArrow"),e.classList.remove("showDesc"))}function extraPress(){var e=document.getElementById("additional"),t=document.querySelector(".tab_info:nth-child(2)");(bottom=!bottom)?(t.classList.add("rotateArrow"),e.classList.add("showDesc")):(t.classList.remove("rotateArrow"),e.classList.remove("showDesc"))}jQuery(document).ready((function(e){e("form.cart").on("click","button.plus, button.minus",(function(){var t=e(this).closest("form.cart").find(".qty"),s=parseFloat(t.val()),c=parseFloat(t.attr("max")),a=parseFloat(t.attr("min")),n=parseFloat(t.attr("step"));e(this).is(".plus")?c&&c<=s?t.val(c):t.val(s+n):a&&a>=s?t.val(a):s>1&&t.val(s-n)}))})),jQuery((function(e){e(".woocommerce").on("change","input.qty",(function(){void 0!==timeout&&clearTimeout(timeout),timeout=setTimeout((function(){e("[name='update_cart']").trigger("click")}),500)}))}));const voornaam=document.getElementById("billing_first_name"),shipVoornaam=document.getElementById("shipping_first_name"),achternaam=document.getElementById("billing_last_name"),shipAchternaam=document.getElementById("shipping_last_name"),straat=document.getElementById("billing_address_1"),shipStraat=document.getElementById("shipping_address_1"),postcode=document.getElementById("billing_postcode"),shipPostcode=document.getElementById("shipping_postcode"),plaats=document.getElementById("billing_city"),shipPlaats=document.getElementById("shipping_city"),email=document.getElementById("billing_email"),phone=document.getElementById("billing_phone"),bedrijf=document.getElementById("billing_company"),shipBedrijf=document.getElementById("shipping_company"),differentAdress=document.getElementById("ship-to-different-address-checkbox"),errorMessage=document.getElementById("formValidation"),stepWrap=document.getElementById("checkoutWrap"),checkStep1=document.getElementById("stap1"),checkStep2=document.getElementById("stap2"),checkStep3=document.getElementById("stap3"),checkStep4=document.getElementById("stap4");function nextStepCheckout(e){var t=!0;voornaam.value&&achternaam.value&&straat.value&&postcode.value&&plaats.value&&email.value&&phone.value||(t=!1);var s=!0;shipVoornaam.value&&shipAchternaam.value&&shipStraat.value&&shipPostcode.value&&shipPlaats.value||(s=!1),e&&(formValidation.classList.remove("active"),"1"==e&&(t?(stepWrap.classList.add("step_2"),checkStep1.classList.add("done"),checkStep1.classList.remove("current"),checkStep2.classList.add("current")):formValidation.classList.add("active")),"2"==e&&(s||!differentAdress.checked?(stepWrap.classList.add("step_3"),checkStep2.classList.add("done"),checkStep2.classList.remove("current"),checkStep3.classList.add("current")):formValidation.classList.add("active")),"3"==e&&(stepWrap.classList.add("step_4"),checkStep3.classList.add("done"),checkStep3.classList.remove("current"),checkStep4.classList.add("current"))),orderInfo(),scrollTop()}function prevStepCheckout(e){e&&("2"==e&&(stepWrap.classList.remove("step_2"),stepWrap.classList.remove("step_3"),stepWrap.classList.remove("step_4"),checkStep1.classList.remove("done"),checkStep2.classList.remove("done"),checkStep3.classList.remove("done"),checkStep2.classList.remove("current"),checkStep3.classList.remove("current"),checkStep4.classList.remove("current"),checkStep1.classList.add("current")),"3"!=e||stepWrap.classList.contains("step_4")||(stepWrap.classList.remove("step_3"),checkStep3.classList.remove("done"),checkStep3.classList.remove("current"),checkStep4.classList.remove("current"),checkStep2.classList.remove("done"),checkStep2.classList.add("current")),"3"==e&&stepWrap.classList.contains("step_4")&&(stepWrap.classList.remove("step_4"),checkStep4.classList.remove("current"),checkStep3.classList.remove("done"),checkStep3.classList.add("current"))),orderInfo(),scrollTop()}function navStepCheckout(e){var t=!0;voornaam.value&&achternaam.value&&straat.value&&postcode.value&&plaats.value&&email.value&&phone.value||(t=!1),"1"==e&&(stepWrap.classList.remove("step_2"),stepWrap.classList.remove("step_3"),stepWrap.classList.remove("step_4"),stepWrap.classList.add("step_1"),checkStep1.classList.add("current"),checkStep2.classList.remove("current"),checkStep2.classList.remove("done"),checkStep3.classList.remove("current"),checkStep3.classList.remove("done"),checkStep4.classList.remove("current"),checkStep4.classList.remove("done")),t?("2"==e&&(stepWrap.classList.remove("step_1"),stepWrap.classList.remove("step_3"),stepWrap.classList.remove("step_4"),stepWrap.classList.add("step_2"),checkStep1.classList.add("done"),checkStep2.classList.add("current"),checkStep3.classList.remove("current"),checkStep3.classList.remove("done"),checkStep4.classList.remove("current"),checkStep4.classList.remove("done")),"3"==e&&(stepWrap.classList.remove("step_1"),stepWrap.classList.remove("step_2"),stepWrap.classList.remove("step_4"),stepWrap.classList.add("step_3"),checkStep1.classList.add("done"),checkStep2.classList.add("done"),checkStep3.classList.add("current"),checkStep4.classList.remove("current"),checkStep4.classList.remove("done")),"4"==e&&(stepWrap.classList.remove("step_1"),stepWrap.classList.remove("step_2"),stepWrap.classList.remove("step_3"),stepWrap.classList.add("step_4"),checkStep1.classList.add("done"),checkStep2.classList.add("done"),checkStep3.classList.add("done"),checkStep4.classList.add("current"))):formValidation.classList.add("active"),orderInfo(),scrollTop()}function orderInfo(){document.getElementById("firstname").innerHTML=voornaam.value,document.getElementById("lastname").innerHTML=achternaam.value,document.getElementById("company").innerHTML=bedrijf.value,document.getElementById("street").innerHTML=straat.value,document.getElementById("zipcode").innerHTML=postcode.value,document.getElementById("city").innerHTML=plaats.value,document.getElementById("phone").innerHTML=phone.value,document.getElementById("email").innerHTML=email.value,differentAdress.checked?(document.getElementById("shipfirstname").innerHTML=shipVoornaam.value,document.getElementById("shiplastname").innerHTML=shipAchternaam.value,document.getElementById("shipcompany").innerHTML=shipBedrijf.value,document.getElementById("shipstreet").innerHTML=shipStraat.value,document.getElementById("shipzipcode").innerHTML=shipPostcode.value,document.getElementById("shipcity").innerHTML=shipPlaats.value):(document.getElementById("shipfirstname").innerHTML=voornaam.value,document.getElementById("shiplastname").innerHTML=achternaam.value,document.getElementById("shipcompany").innerHTML=bedrijf.value,document.getElementById("shipstreet").innerHTML=straat.value,document.getElementById("shipzipcode").innerHTML=postcode.value,document.getElementById("shipcity").innerHTML=plaats.value)}function scrollTop(){window.scrollTo({top:0,behavior:"smooth"})}function productModal(e,t,s){var c=document.getElementById("productModal");document.getElementById("productModalInner");document.getElementById("imgWrapper").innerHTML='<a href="'+t+'"><img class="modalProductImage" src="'+s+'"/></a>',document.getElementById("productTitle").innerHTML=e,c.classList.add("modal__cart--active"),pageOverlay.classList.remove("page-overlay"),pageOverlay.classList.add("page-overlay--active")}function closeProductModal(){document.getElementById("productModal").classList.remove("modal__cart--active"),pageOverlay.classList.remove("page-overlay--active"),pageOverlay.classList.add("page-overlay")}function incVAT(){var e=document.querySelector(".composite_data > div > div.compositeprice_wrapper > div.composite_price > p span");if(e){var t=(1.21*e.innerText.replace(/,/g,".")).toFixed(2).replace(".",",");document.getElementById("incVATprice").innerHTML=t}}function watchSelections(){var e=document.querySelectorAll(".variations select, .quantity input");e&&e.forEach((e=>{e.addEventListener("change",(function(){incVAT(),setTimeout(productTotal,600)}))}))}function productTotal(){var e=document.querySelector(".composite_data > div > div.compositeprice_wrapper > div.composite_price > p span"),t=document.querySelector("#productTotals");if(e)var s=e.innerText;t&&(document.querySelector("#productTotals").innerHTML=s)}function incVATtime(){setTimeout(incVAT,500)}setTimeout((function(){if(document.getElementById("priceWatch")){var e=document.querySelectorAll("select");e&&e.forEach((e=>{e.addEventListener("change",(function(){setTimeout(incVAT,500)}))})),window.addEventListener("click",(function(){setTimeout(incVAT,500)}))}}),600),window.addEventListener("load",(e=>{setTimeout(productTotal,100),setTimeout(incVAT,600);var t=document.querySelectorAll(".radio_button");t&&t.forEach((e=>{e.addEventListener("click",(function(){incVAT(),setTimeout((function(){productTotal(),watchSelections()}),1300)}),{once:!1})}))}));var productPrice=document.getElementById("priceWatch");productPrice&&setInterval(productTotal,1e3);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZvb3Rlci5qcyIsIndvb2NvbW1lcmNlLmpzIl0sIm5hbWVzIjpbIm9wZW5Qb3B1cCIsImlkIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImNsYXNzTGlzdCIsInRvZ2dsZSIsIm9wZW5GYXFDb250YWluZXIiLCJxdWVyeVNlbGVjdG9yQWxsIiwiaSIsImxlbmd0aCIsIm9uY2xpY2siLCJjb250YWlucyIsInJlbW92ZSIsImZhcUNvbnRhaW5lciIsImFkZCIsImNsb3NlUG9wdXAiLCJvcGVuU3BlY3MiLCJidG50ZXh0IiwicXVlcnlTZWxlY3RvciIsImlubmVySFRNTCIsInNldENvb2tpZSIsIm5hbWUiLCJ2YWx1ZSIsImRheXMiLCJleHBpcmVzIiwiZGF0ZSIsIkRhdGUiLCJzZXRUaW1lIiwiZ2V0VGltZSIsInRvVVRDU3RyaW5nIiwiY29va2llIiwiZ2V0Q29va2llIiwibmFtZUVRIiwiY2EiLCJzcGxpdCIsImMiLCJjaGFyQXQiLCJzdWJzdHJpbmciLCJpbmRleE9mIiwicG9wdXBDb29raWUiLCJzdHlsZSIsImRpc3BsYXkiLCJhZGRUb0NhcnRCdXR0b24iLCJwcm9kdWN0SUQiLCJhZGRFdmVudExpc3RlbmVyIiwic2Vzc2lvblN0b3JhZ2UiLCJzZXRJdGVtIiwid2luZG93IiwiZ2V0SXRlbSIsIm1vZGFsSWRlbnRpZmllciIsInByb2R1Y3RNb2RhbFN0YW5kYXJkIiwicHJvZHVjdE1vZGFsQWR2YW5jZWQiLCJjbGVhciIsImNsb3NlUEFNIiwiZm9ybVByb2plY3RpbnJpY2h0aW5nIiwiZm9ybVN0ZXBCdG5OZXh0IiwiZm9ybVN0ZXBPbmUiLCJmb3JtU3RlcFR3byIsImZvcm1TdWJtaXQiLCJ3YWl0Rm9yRWxtIiwic2VsZWN0b3IiLCJQcm9taXNlIiwicmVzb2x2ZSIsIm9ic2VydmVyIiwiTXV0YXRpb25PYnNlcnZlciIsIm11dGF0aW9ucyIsImRpc2Nvbm5lY3QiLCJvYnNlcnZlIiwiYm9keSIsImNoaWxkTGlzdCIsInN1YnRyZWUiLCJ2YWxpZGF0ZU9wdG9ucyIsInBlcmZvcm1hbmNlIiwiZ2V0RW50cmllc0J5VHlwZSIsImZpbHRlciIsInJlc291cmNlIiwiYWFudGFsU3ViT3B0aWVzIiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsIm9wdGlvbnNDb3VudCIsImFhbnRhbFNlbGVjdGVkIiwic2luZ2xlIiwic3ViT3B0aWVzQ2hpbGRzIiwiY2hpbGRyZW4iLCJvcHRpb25PdXRlciIsInNpbmdsZU9wdGlvbiIsImFjdGl2ZUNsYXNzIiwib3B0aW9uTGkiLCJvcGFjaXR5IiwicG9pbnRlckV2ZW50cyIsImV2ZW50IiwidGhlbiIsImVsbSIsImxvYWRNb3JlQnV0dG9uQyIsInNldFRpbWVvdXQiLCJwcm9kdWN0U3VtbWFyeSIsInN1Yk1lbnUiLCJzdWJNZW51RGl2IiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTmFtZSIsImFwcGVuZENoaWxkIiwidGltZW91dCIsInRvcDEiLCJib3R0b20iLCJkZXNjUHJlc3MiLCJkZXNjcmlwdGlvbiIsImFycm93IiwiZXh0cmFQcmVzcyIsImpRdWVyeSIsInJlYWR5IiwiJCIsIm9uIiwicXR5IiwidGhpcyIsImNsb3Nlc3QiLCJmaW5kIiwidmFsIiwicGFyc2VGbG9hdCIsIm1heCIsImF0dHIiLCJtaW4iLCJzdGVwIiwiaXMiLCJ1bmRlZmluZWQiLCJjbGVhclRpbWVvdXQiLCJ0cmlnZ2VyIiwidm9vcm5hYW0iLCJzaGlwVm9vcm5hYW0iLCJhY2h0ZXJuYWFtIiwic2hpcEFjaHRlcm5hYW0iLCJzdHJhYXQiLCJzaGlwU3RyYWF0IiwicG9zdGNvZGUiLCJzaGlwUG9zdGNvZGUiLCJwbGFhdHMiLCJzaGlwUGxhYXRzIiwiZW1haWwiLCJwaG9uZSIsImJlZHJpamYiLCJzaGlwQmVkcmlqZiIsImRpZmZlcmVudEFkcmVzcyIsImVycm9yTWVzc2FnZSIsInN0ZXBXcmFwIiwiY2hlY2tTdGVwMSIsImNoZWNrU3RlcDIiLCJjaGVja1N0ZXAzIiwiY2hlY2tTdGVwNCIsIm5leHRTdGVwQ2hlY2tvdXQiLCJjdXJyZW50U3RlcCIsInZlcmRlciIsInZlcmRlclNoaXAiLCJmb3JtVmFsaWRhdGlvbiIsImNoZWNrZWQiLCJvcmRlckluZm8iLCJzY3JvbGxUb3AiLCJwcmV2U3RlcENoZWNrb3V0IiwibmF2U3RlcENoZWNrb3V0Iiwic2Nyb2xsVG8iLCJ0b3AiLCJiZWhhdmlvciIsInByb2R1Y3RNb2RhbCIsInByb2R1Y3RUaXRsZSIsInByb2R1Y3RMaW5rIiwicHJvZHVjdEltZ1VybCIsInRoZU1vZGFsIiwicGFnZU92ZXJsYXkiLCJjbG9zZVByb2R1Y3RNb2RhbCIsImluY1ZBVCIsImlucHV0MSIsImZpbmFsUmVzdWx0IiwiaW5uZXJUZXh0IiwicmVwbGFjZSIsInRvRml4ZWQiLCJ3YXRjaFNlbGVjdGlvbnMiLCJkcm9wZG93blNlbGVjdGlvbnMiLCJmb3JFYWNoIiwiZWxlbWVudCIsInByb2R1Y3RUb3RhbCIsImlucHV0IiwicHJvZHVjdFRvdGFscyIsInJlc3VsdCIsImluY1ZBVHRpbWUiLCJwcm9kdWN0U2VsZWN0aW9ucyIsInNlbGVjdGlvbiIsInJhZGlvQnV0dG9ucyIsImJ1dHRvbiIsIm9uY2UiLCJwcm9kdWN0UHJpY2UiLCJzZXRJbnRlcnZhbCJdLCJtYXBwaW5ncyI6IkFBQUEsU0FBU0EsVUFBVUMsR0FDUEMsU0FBU0MsZUFBZUYsR0FDOUJHLFVBQVVDLE9BQU8sU0FDdkIsQ0FNQSxNQUFNQyxpQkFBbUJKLFNBQVNLLGlCQUFpQiwwQkFDbkQsSUFBSSxJQUFJQyxFQUFJLEVBQUdBLEVBQUlGLGlCQUFpQkcsT0FBUUQsSUFDeENGLGlCQUFpQkUsR0FBR0UsUUFBVSxXQUUxQixHQUQ2QkosaUJBQWlCRSxHQUFHSixVQUFVTyxTQUFTLFVBR2hFTCxpQkFBaUJFLEdBQUdKLFVBQVVRLE9BQU8sY0FDbEMsQ0FDSCxJQUFLLElBQUlDLEtBQWdCUCxpQkFDckJPLEVBQWFULFVBQVVRLE9BQU8sVUFFbENOLGlCQUFpQkUsR0FBR0osVUFBVVUsSUFBSSxTQUN0QyxDQUNKLEVBT0osU0FBU0MsV0FBV2QsR0FDUkMsU0FBU0MsZUFB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QWtCQyxVQUFZZ0ssRUFFN0QsQ0F5QkEsU0FBU0MsYUFDTHZGLFdBQVd5RSxPQUFRLElBQ3ZCLENBL0VBekUsWUFBVyxXQUVQLEdBRG1CM0YsU0FBU0MsZUFBZSxjQUN6QixDQUNkLElBQUlrTCxFQUFvQm5MLFNBQVNLLGlCQUFpQixVQUM5QzhLLEdBQ0FBLEVBQWtCUCxTQUFRUSxJQUN0QkEsRUFBVTFJLGlCQUFpQixVQUFVLFdBQ2pDaUQsV0FBV3lFLE9BQVEsSUFDdkIsR0FBQyxJQUdUdkgsT0FBT0gsaUJBQWlCLFNBQVMsV0FDN0JpRCxXQUFXeUUsT0FBUSxJQUN2QixHQUNKLENBQ0osR0FBRyxLQXdDSHZILE9BQU9ILGlCQUFpQixRQUFTNkMsSUFDN0JJLFdBQVdtRixhQUFjLEtBQ3pCbkYsV0FBV3lFLE9BQVEsS0FFbkIsSUFBSWlCLEVBQWVyTCxTQUFTSyxpQkFBaUIsaUJBRXpDZ0wsR0FDQUEsRUFBYVQsU0FBUVUsSUFDakJBLEVBQU81SSxpQkFBaUIsU0FBUyxXQUM3QjBILFNBQ0F6RSxZQUFXLFdBQ1BtRixlQUNBSixpQkFDSixHQUFHLEtBQ1AsR0FBRyxDQUNDYSxNQUFNLEdBQ1QsR0FFVCxJQVVKLElBQUlDLGFBQWV4TCxTQUFTQyxlQUFlLGNBRXZDdUwsY0FDQUMsWUFBWVgsYUFBYyIsImZpbGUiOiJmb290ZXIubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gb3BlblBvcHVwKGlkKSB7XG4gICAgdmFyIGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7XG4gICAgZS5jbGFzc0xpc3QudG9nZ2xlKFwiYWN0aXZlXCIpO1xufVxuXG5cblxuXG4vLyBvcGVuIC8gY2xvc2UgZmFxIGl0ZW1zXG5jb25zdCBvcGVuRmFxQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5pbmZvX19mYXEgPiAuZmFxLWl0ZW1cIik7XG5mb3IobGV0IGkgPSAwOyBpIDwgb3BlbkZhcUNvbnRhaW5lci5sZW5ndGg7IGkrKyl7XG4gICAgb3BlbkZhcUNvbnRhaW5lcltpXS5vbmNsaWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBjb25zdCBmYXFDb250YWluZXJIYXNDbGFzcyA9IG9wZW5GYXFDb250YWluZXJbaV0uY2xhc3NMaXN0LmNvbnRhaW5zKFwiYWN0aXZlXCIpO1xuICAgICAgICBpZihmYXFDb250YWluZXJIYXNDbGFzcykge1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ2hhcyBjbGFzcycpO1xuICAgICAgICAgICAgb3BlbkZhcUNvbnRhaW5lcltpXS5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZm9yIChsZXQgZmFxQ29udGFpbmVyIG9mIG9wZW5GYXFDb250YWluZXIpIHtcbiAgICAgICAgICAgICAgICBmYXFDb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wZW5GYXFDb250YWluZXJbaV0uY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKTtcbiAgICAgICAgfTtcbiAgICB9O1xufVxuXG5cblxuXG5cbmZ1bmN0aW9uIGNsb3NlUG9wdXAoaWQpIHtcbiAgICB2YXIgZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcbiAgICBlLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XG59XG5cbmZ1bmN0aW9uIG9wZW5TcGVjcyhpZCkge1xuICAgIHZhciBlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xuICAgIGUuY2xhc3NMaXN0LnRvZ2dsZShcImFjdGl2ZVwiKTtcbiAgICBcbiAgICB2YXIgYnRudGV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjc3BlY3NXcmFwID4gZGl2Lm1vcmVfX3NwZWNzXCIpO1xuICAgIGlmIChidG50ZXh0LmlubmVySFRNTCA9PT0gXCJNaW5kZXIgc3BlY2lmaWNhdGllc1wiKSB7XG4gICAgICAgIGJ0bnRleHQuaW5uZXJIVE1MID0gJ01lZXIgc3BlY2lmaWNhdGllcyc7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgYnRudGV4dC5pbm5lckhUTUwgPSAnTWluZGVyIHNwZWNpZmljYXRpZXMnO1xuICAgIH1cbn1cblxuLy8gZnVuY3Rpb24gb3BlbkZpbHRlcnMoaWQpIHtcbi8vICAgICB2YXIgZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcbi8vICAgICBlLmNsYXNzTGlzdC50b2dnbGUoXCJhY3RpdmVcIik7XG5cbi8vICAgICB2YXIgZmlsdGVyRGl2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9kdWN0LWNhdGVnb3J5X19maWx0ZXJzXCIpO1xuLy8gICAgIHZhciBmaWx0ZXJTVkcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vcmUtYnRuIHN2Z1wiKTtcbi8vICAgICBmaWx0ZXJEaXYuY2xhc3NMaXN0LnRvZ2dsZShcIi0tYWN0aXZlXCIpO1xuLy8gICAgIGZpbHRlclNWRy5jbGFzc0xpc3QudG9nZ2xlKFwic3ZnLS1hY3RpdmVcIik7XG4vLyAgICAgdmFyIGJ0bnRleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vcmVfX3NwZWNzXCIpO1xuLy8gICAgIGlmIChidG50ZXh0LmlubmVySFRNTCA9PT0gXCJGaWx0ZXJzIHZlcmJlcmdlblwiKSB7XG4vLyAgICAgICAgIGJ0bnRleHQuaW5uZXJIVE1MID0gJ0ZpbHRlcnMgd2VlcmdldmVuJztcblxuLy8gICAgIH0gZWxzZSB7XG4vLyAgICAgICAgIGJ0bnRleHQuaW5uZXJIVE1MID0gJ0ZpbHRlcnMgdmVyYmVyZ2VuJztcbi8vICAgICB9XG4vLyB9XG5cbi8vIFNldCBDb29raWUgZm9yIHBvcHVwXG5mdW5jdGlvbiBzZXRDb29raWUobmFtZSx2YWx1ZSxkYXlzKSB7XG4gICAgdmFyIGV4cGlyZXMgPSBcIlwiO1xuICAgIGlmIChkYXlzKSB7XG4gICAgICAgIHZhciBkYXRlID0gbmV3IERhdGUoKTtcbiAgICAgICAgZGF0ZS5zZXRUaW1lKGRhdGUuZ2V0VGltZSgpICsgKGRheXMqMSo2MCo2MCoxMDAwKSk7XG4gICAgICAgIGV4cGlyZXMgPSBcIjsgZXhwaXJlcz1cIiArIGRhdGUudG9VVENTdHJpbmcoKTtcbiAgICB9XG4gICAgZG9jdW1lbnQuY29va2llID0gbmFtZSArIFwiPVwiICsgKHZhbHVlIHx8IFwiXCIpICArIGV4cGlyZXMgKyBcIjsgcGF0aD0vXCI7XG59XG5cbi8vIFNldCBDb29raWUgZm9yIHBvcHVwXG5mdW5jdGlvbiBnZXRDb29raWUobmFtZSkge1xuICAgIHZhciBuYW1lRVEgPSBuYW1lICsgXCI9XCI7XG4gICAgdmFyIGNhID0gZG9jdW1lbnQuY29va2llLnNwbGl0KCc7Jyk7XG4gICAgZm9yKHZhciBpPTA7aSA8IGNhLmxlbmd0aDtpKyspIHtcbiAgICAgICAgdmFyIGMgPSBjYVtpXTtcbiAgICAgICAgd2hpbGUgKGMuY2hhckF0KDApPT0nICcpIGMgPSBjLnN1YnN0cmluZygxLGMubGVuZ3RoKTtcbiAgICAgICAgaWYgKGMuaW5kZXhPZihuYW1lRVEpID09IDApIHJldHVybiBjLnN1YnN0cmluZyhuYW1lRVEubGVuZ3RoLGMubGVuZ3RoKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5cbi8vIEhpZGUgcG9wdXAgaWYgY29va2llIGlzIHNldFxudmFyIHBvcHVwQ29va2llID0gZ2V0Q29va2llKCdwb3B1cENvb2tpZScpO1xuaWYgKHBvcHVwQ29va2llKSB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Nhbi1pLWhlbHAtcG9wdXAnKS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiXG59XG5lbHNlIHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FuLWktaGVscC1wb3B1cCcpLnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiXG59XG5cbi8vIFNldCBDb29raWUgb24gcG9wdXAgY2xvc2VcbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYW4taS1oZWxwLS1jbG9zZScpLm9uY2xpY2s9ZnVuY3Rpb24oKXtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FuLWktaGVscC1wb3B1cCcpLnN0eWxlLmRpc3BsYXk9XCJub25lXCI7XG4gICAgc2V0Q29va2llKCdwb3B1cENvb2tpZScsJ3BvcHVwQ29va2lldmFsdWUnLDcpO1xufTtcblxuXG5cbi8vIFByb2R1Y3QgTW9kYWwgSlNcbmNvbnN0IGFkZFRvQ2FydEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY29tcG9zaXRlX2RhdGEgPiBkaXYgPiBkaXYuY29tcG9zaXRlX2J1dHRvblwiKVxuY29uc3QgcHJvZHVjdElEID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jb21wb3NpdGVfZGF0YSA+IGRpdiA+IGRpdi5jb21wb3NpdGVfYnV0dG9uID4gaW5wdXRbdHlwZT1oaWRkZW5dXCIpXG5cbmlmIChhZGRUb0NhcnRCdXR0b24pIHtcbiAgICBhZGRUb0NhcnRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShcInByb2R1Y3RJRFwiLCBwcm9kdWN0SUQudmFsdWUpO1xuICAgIH0pXG59XG5cbmlmICh3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgncHJvZHVjdElEJykpIHtcbiAgICBjb25zdCBtb2RhbElkZW50aWZpZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncG9wdXAtYWNjZXNzb2lyZXMnKTtcbiAgICBjb25zdCBwcm9kdWN0TW9kYWxTdGFuZGFyZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9kdWN0QWRkZWRNb2RhbFN0YW5kYXJkJylcbiAgICBjb25zdCBwcm9kdWN0TW9kYWxBZHZhbmNlZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9kdWN0QWRkZWRNb2RhbEFkdmFuY2VkJylcblxuICAgIGlmICghbW9kYWxJZGVudGlmaWVyKSB7XG4gICAgICAgIHByb2R1Y3RNb2RhbFN0YW5kYXJkLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCJcbiAgICAgICAgcHJvZHVjdE1vZGFsU3RhbmRhcmQuY2xhc3NMaXN0LmFkZChcImZhZGUtaW4tYm90dG9tXCIpXG4gICAgfSBlbHNlIHtcbiAgICAgICAgcHJvZHVjdE1vZGFsQWR2YW5jZWQuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIlxuICAgICAgICBwcm9kdWN0TW9kYWxBZHZhbmNlZC5jbGFzc0xpc3QuYWRkKFwiZmFkZS1pbi1ib3R0b21cIilcbiAgICB9XG5cbiAgICBzZXNzaW9uU3RvcmFnZS5jbGVhcigpXG59XG5cbmZ1bmN0aW9uIGNsb3NlUEFNKCkge1xuICAgIGNvbnN0IHByb2R1Y3RNb2RhbFN0YW5kYXJkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2R1Y3RBZGRlZE1vZGFsU3RhbmRhcmQnKVxuICAgIGNvbnN0IHByb2R1Y3RNb2RhbEFkdmFuY2VkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2R1Y3RBZGRlZE1vZGFsQWR2YW5jZWQnKVxuXG4gICAgcHJvZHVjdE1vZGFsU3RhbmRhcmQuY2xhc3NMaXN0LnJlbW92ZShcImZhZGUtaW4tYm90dG9tXCIpXG4gICAgcHJvZHVjdE1vZGFsU3RhbmRhcmQuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiXG5cbiAgICBwcm9kdWN0TW9kYWxBZHZhbmNlZC5jbGFzc0xpc3QucmVtb3ZlKFwiZmFkZS1pbi1ib3R0b21cIilcbiAgICBwcm9kdWN0TW9kYWxBZHZhbmNlZC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCJcblxuICAgIHNlc3Npb25TdG9yYWdlLmNsZWFyKClcbn1cblxuXG5cblxuLy8gd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsIGZ1bmN0aW9uKCkge1xuLy8gICAgIC8vIHZhciBwcmljZVN1Ym1pdEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mYWNldHdwLXN1Ym1pdCcpLmlubmVySFRNTDtcbi8vICAgICAvLyBwcmljZVN1Ym1pdEJ0biA9IFwiTXkgbmV3IHRleHQhXCI7XG4vLyAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5mYWNldHdwLXN1Ym1pdFwiKS5pbm5lckhUTUwgPSBcIkkgaGF2ZSBjaGFuZ2VkIVwiO1xuLy8gfSk7XG5cblxuXG4vLyB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIChldmVudCkgPT4ge1xuLy8gICAgIHZhciBwcm9kdWN0T3B0aW9uQnRucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJjb21wb25lbnRfb3B0aW9uX3RodW1ibmFpbF90YXBcIik7XG4vLyAgICAgLy8gdmFyIHByb2R1Y3RPcHRpb25CdG5zQXJyYXkgPSBbLi4ucHJvZHVjdE9wdGlvbkJ0bnNdO1xuLy8gICAgIHZhciBpbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY29tcG9zaXRlX2RhdGEgPiBkaXYgPiBkaXYuY29tcG9zaXRlcHJpY2Vfd3JhcHBlciA+IGRpdi5jb21wb3NpdGVfcHJpY2UgPiBwIHNwYW5cIik7XG5cblx0XG4vLyBcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBwcm9kdWN0T3B0aW9uQnRucy5sZW5ndGg7ICsraSkge1xuLy8gXHRcdFx0Ly8gcHJvZHVjdE9wdGlvbkJ0bltpXS5vbmNsaWNrID0gZnVuY3Rpb24gKCkgeyBcbi8vICAgICAgICAgICAgIHByb2R1Y3RPcHRpb25CdG5zW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcbi8vICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuLy8gICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBpbnB1dC5pbm5lclRleHQ7XG4vLyAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdGZpeCA9IHJlc3VsdC5yZXBsYWNlKC8sL2csICcuJyk7XG4vLyAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdGNhbGMgPSAocmVzdWx0Zml4ICogMS4yMSkudG9GaXhlZCgyKTtcbi8vICAgICAgICAgICAgICAgICB2YXIgZmluYWxSZXN1bHQgPSByZXN1bHRjYWxjLnJlcGxhY2UoJy4nLCAnLCcpO1xuLy8gICAgICAgICAgICAgICAgIGlmKHJlc3VsdCkge1xuLy8gICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImluY1ZBVHByaWNlXCIpLmlubmVySFRNTCA9IGZpbmFsUmVzdWx0O1xuLy8gICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhwcm9kdWN0T3B0aW9uQnRuc1tpXSk7XG4vLyAgICAgICAgICAgICAgICAgfVxuLy8gICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHByb2R1Y3RPcHRpb25CdG5zW2ldKTtcbi8vICAgICAgICAgICAgIH0pO1xuLy8gICAgICAgICB9XG5cbi8vICAgICB9KTtcbiAgICAvLyBmb3IgKGxldCBwcm9kdWN0T3B0aW9uQnRuIG9mIHByb2R1Y3RPcHRpb25CdG5zQXJyYXkpIHtcbiAgICAvLyAgICAgcHJvZHVjdE9wdGlvbkJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgLy8gICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIC8vICAgICAgICAgdmFyIHJlc3VsdCA9IGlucHV0LmlubmVyVGV4dDtcbiAgICAvLyAgICAgICAgIHZhciByZXN1bHRmaXggPSByZXN1bHQucmVwbGFjZSgvLC9nLCAnLicpO1xuICAgIC8vICAgICAgICAgdmFyIHJlc3VsdGNhbGMgPSAocmVzdWx0Zml4ICogMS4yMSkudG9GaXhlZCgyKTtcbiAgICAvLyAgICAgICAgIHZhciBmaW5hbFJlc3VsdCA9IHJlc3VsdGNhbGMucmVwbGFjZSgnLicsICcsJyk7XG4gICAgLy8gICAgICAgICBpZihyZXN1bHQpIHtcbiAgICAvLyAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImluY1ZBVHByaWNlXCIpLmlubmVySFRNTCA9IGZpbmFsUmVzdWx0O1xuICAgIC8vICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHByb2R1Y3RPcHRpb25CdG4pO1xuICAgIC8vICAgICAgICAgfVxuICAgIC8vICAgICAgICAgY29uc29sZS5sb2cocHJvZHVjdE9wdGlvbkJ0bik7XG4gICAgLy8gICAgICAgICBjb25zb2xlLmxvZygncHJvZHVjdE9wdGlvbkJ0bicpO1xuICAgIC8vICAgICB9KTtcbiAgXG4gICAgLy8gfVxuICAgIC8vIGNvbnNvbGUubG9nKHByb2R1Y3RPcHRpb25CdG5zQXJyYXkpOyAgXG5cblxuLy8gRm9ybSBwcm9qZWN0aW5yaWNodGluZyBtdWx0aXN0ZXBcbmNvbnN0IGZvcm1Qcm9qZWN0aW5yaWNodGluZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy53cGNmNy1mb3JtJyk7XG5jb25zdCBmb3JtU3RlcEJ0bk5leHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RlcF9fYnV0dG9uLW5leHQnKTtcbmNvbnN0IGZvcm1TdGVwT25lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnN0ZXBfX29uZScpO1xuY29uc3QgZm9ybVN0ZXBUd28gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc3RlcF9fdHdvJyk7XG5jb25zdCBmb3JtU3VibWl0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLndwY2Y3LXN1Ym1pdCcpO1xuLy8gZm9ybVN0ZXBUd28uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuXG4vLyBvYnNlcnZlciBmb3Igd2FpdGluZyBjbGFzcyB0byBleGlzdFxuZnVuY3Rpb24gd2FpdEZvckVsbShzZWxlY3Rvcikge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKG11dGF0aW9ucyA9PiB7XG4gICAgICAgICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvcikpIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpKTtcbiAgICAgICAgICAgICAgICBvYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIG9ic2VydmVyLm9ic2VydmUoZG9jdW1lbnQuYm9keSwge1xuICAgICAgICAgICAgY2hpbGRMaXN0OiB0cnVlLFxuICAgICAgICAgICAgc3VidHJlZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICB9KTtcbn1cblxuLy8gc2hvdyAvIGhpZGUgbXVsdGlzdGVwIGZvcm1cbmlmKGZvcm1Qcm9qZWN0aW5yaWNodGluZyl7XG4gICAgZm9ybVN0ZXBCdG5OZXh0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGZvcm1TdGVwT25lLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgZm9ybVN0ZXBUd28uc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICB9KTtcbiAgICBcbiAgICBmb3JtU3VibWl0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGV2ZW50KSB7XG5cblxuICAgICAgICB3YWl0Rm9yRWxtKCcuaW52YWxpZCcpLnRoZW4oKGVsbSkgPT4ge1xuICAgICAgICAgICAgZm9ybVN0ZXBPbmUuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgICAgIGZvcm1TdGVwVHdvLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgICAgICBmb3JtU3RlcEJ0bk5leHQuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiXG4gICAgICAgIH0pO1xuXG5cblxuICAgICAgICAvLyBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgIC8vICAgICBjb25zdCBmb3JtSGFzQ2xhc3NJbnZhbGlkID0gZm9ybVByb2plY3RpbnJpY2h0aW5nLmNsYXNzTGlzdC5jb250YWlucygnaW52YWxpZCcpO1xuICAgICAgICAvLyAgICAgaWYoZm9ybUhhc0NsYXNzSW52YWxpZCkge1xuICAgICAgICAvLyAgICAgICAgIGZvcm1TdGVwT25lLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgIC8vICAgICAgICAgZm9ybVN0ZXBUd28uc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgLy8gICAgICAgICBmb3JtU3RlcEJ0bk5leHQuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiXG4gICAgICAgIC8vICAgICB9O1xuICAgICAgICAvLyB9LCAyNTAwKTtcbiAgICB9KTtcbn07XG5cblxuXG5cbi8vIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBmdW5jdGlvbigpIHtcbi8vICAgICAvLyB2YXIgZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZmFjZXR3cC1zdWJtaXQnKTtcbi8vICAgICB2YXIgZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZmlsdGVyc19fcHJpY2UnKTtcbi8vICAgICB2YXIgd3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICBcbi8vICAgICBlbC5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh3cmFwcGVyLCBlbCk7XG4vLyAgICAgd3JhcHBlci5hcHBlbmRDaGlsZChlbCk7XG4vLyB9LCBmYWxzZSk7XG5cblxuLy8gY29uc3QgY29tcG9uZW50U2VsZWN0ZWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29tcG9uZW50X29wdGlvbl90aHVtYm5haWwnKTtcbi8vIGNvbnN0IGNvbXBvbmVudFNlbGVjdGVkQ2xhc3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VsZWN0ZWQnKTtcbi8vIGNvbnN0IGNvbXBvc2l0ZUFkZFRvQ2FydCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb21wb3NpdGVfYWRkX3RvX2NhcnRfYnV0dG9uJyk7XG4vLyAvLyBjb21wb3NpdGVBZGRUb0NhcnQuc2V0QXR0cmlidXRlKFwicG9pbnRlci1ldmVudHNcIiwgXCJub25lXCIpO1xuLy8gaWYoY29tcG9uZW50U2VsZWN0ZWQuY2xhc3NMaXN0LmNvbnRhaW5zKGNvbXBvbmVudFNlbGVjdGVkQ2xhc3MpICkge1xuLy8gICAgIGNvbnNvbGUubG9nKCd0ZXN0Jyk7XG5cbi8vIH1cblxuXG5cbi8vIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsIGZ1bmN0aW9uKCl7XG4gICAgLy8gbGV0IG5leHRCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmV4dEJ0bicpO1xuICAgIC8vIGxldCBwcmV2QnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ByZXZCdG4nKTtcbiAgICAvLyBsZXQgZWxlbWVudEluZGV4ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmVsZW1lbnRfaW5kZXgnKTtcbiAgICAvLyBpZihuZXh0QnRuKSB7XG4gICAgLy8gICAgIG5leHRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgLy8gICAgICAgICB2YXIgY29tcG9zaXRlUGFnaW5hdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5lbGVtZW50X2luZGV4Jyk7XG4gICAgLy8gICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgY29tcG9zaXRlUGFnaW5hdGlvbi5sZW5ndGg7IGkrKykge1xuICAgIC8vICAgICAgICAgICAgIGNvbnNvbGUubG9nKGNvbXBvc2l0ZVBhZ2luYXRpb24pO1xuICAgIC8vICAgICAgICAgfVxuICAgIC8vICAgICB9KTtcbiAgICAvLyB9XG5cblxuXG4vLyB9KTtcblxuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgZnVuY3Rpb24gKCkge1xuXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImRpdi5jb21wb25lbnRfaW5uZXIgPiBkaXYuY29tcG9uZW50X3NlbGVjdGlvbnMgPiBkaXYuY29tcG9uZW50X2NvbnRlbnQgPiAuY29tcG9uZW50X3N1bW1hcnkgPiAucHJvZHVjdFwiKVxuXG4gICAgdmFsaWRhdGVPcHRvbnMoKTtcbiAgICAvLyBsaXN0ZW5lciBmb3Igb25jbGljayBvZlxuXG4gICAgdmFyIGxvYWRNb3JlQnV0dG9uQyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2NvbXBvbmVudF9vcHRpb25zX2xvYWRfbW9yZScpXG5cbiAgICBpZiAobG9hZE1vcmVCdXR0b25DWzBdKSB7XG4gICAgICAgIGxvYWRNb3JlQnV0dG9uQ1swXS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdmFsaWRhdGVPcHRvbnMoKTtcbiAgICAgICAgICAgIH0sIDIwMDApXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgdmFyIHByb2R1Y3RTdW1tYXJ5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgncHJvZHVjdF9zdW1tYXJ5JylcbiAgICBpZiAocHJvZHVjdFN1bW1hcnlbMF0pIHtcbiAgICAgICAgcHJvZHVjdFN1bW1hcnlbMF0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgICAgIHZhbGlkYXRlT3B0b25zKCk7XG4gICAgICAgIH0pXG4gICAgfVxufSlcblxuXG5cblxuXG4vLyAvLyBvdmVybGF5IGFjdGl2ZSBvbiBtb3VzZSBob3ZlciBtZW51IGl0ZW1zXG4vLyBjb25zdCBtZW51SXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubWVudSAubWVudS1pdGVtJyk7XG4vLyBtZW51SXRlbXMuZm9yRWFjaChmID0+IGYuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIGZ1bmN0aW9uKCkge1xuLy8gICAgIG1lbnVJdGVtcy5mb3JFYWNoKGUgPT4ge1xuLy8gICAgICAgICBjb25zdCBvdmVybGF5QWN0aXZlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BhZ2Utb3ZlcmxheScpXG4vLyAgICAgICAgIG92ZXJsYXlBY3RpdmUuY2xhc3NMaXN0LmFkZCgncGFnZS1vdmVybGF5LS1hY3RpdmUnKTtcbi8vICAgICAvLyBjb25zdCBib2R5RWxlbWVudCA9IGRvY3VtZW50LmJvZHk7XG4vLyAgICAgLy8gYm9keUVsZW1lbnQuY2xhc3NMaXN0LmFkZChcIi0tbWVudS1ob3ZlclwiKTtcbi8vICAgfSlcbi8vIH0pKTtcbi8vIG1lbnVJdGVtcy5mb3JFYWNoKGYgPT4gZi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW91dCcsIGZ1bmN0aW9uKCkge1xuLy8gICAgIG1lbnVJdGVtcy5mb3JFYWNoKGUgPT4ge1xuLy8gICAgIC8vIGNvbnN0IGJvZHlFbGVtZW50ID0gZG9jdW1lbnQuYm9keTtcbi8vICAgICAvLyBib2R5RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwiLS1tZW51LWhvdmVyXCIpO1xuLy8gICAgIGNvbnN0IG92ZXJsYXlBY3RpdmUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGFnZS1vdmVybGF5Jylcbi8vICAgICBvdmVybGF5QWN0aXZlLmNsYXNzTGlzdC5yZW1vdmUoJ3BhZ2Utb3ZlcmxheS0tYWN0aXZlJyk7XG4vLyAgIH0pXG4vLyB9KSk7XG5cblxuXG4vLyBhcHBlbmQgY2xhc3MgdG8gc3ViLW1lbnVcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBmdW5jdGlvbigpIHtcbiAgICB2YXIgc3ViTWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zdWItbWVudScpXG4gICAgZm9yKGxldCBpID0gMDsgaSA8IHN1Yk1lbnUubGVuZ3RoOyBpKyspe1xuICAgICAgICB2YXIgc3ViTWVudURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIilcbiAgICAgICAgc3ViTWVudURpdi5jbGFzc05hbWUgPSBcInN1Yi1tZW51X19vdmVybGF5XCI7XG4gICAgICAgIHN1Yk1lbnVbaV0uYXBwZW5kQ2hpbGQoc3ViTWVudURpdilcbiAgICB9XG59LCBmYWxzZSk7XG5cblxuZnVuY3Rpb24gdmFsaWRhdGVPcHRvbnMoKSB7XG5cbiAgICBwZXJmb3JtYW5jZS5nZXRFbnRyaWVzQnlUeXBlKFwicmVzb3VyY2VcIilcblxuICAgIGNvbnN0IHJlc291cmNlcyA9IHBlcmZvcm1hbmNlLmdldEVudHJpZXNCeVR5cGUoXCJyZXNvdXJjZVwiKTtcblxuICAgIHJlc291cmNlcy5maWx0ZXIocmVzb3VyY2UgPT4gcmVzb3VyY2UubmFtZSA9PSBcIlJlY3RhbmdsZS1Db3B5LTE0LnBuZ1wiKVxuXG4gICAgdmFyIGFhbnRhbFN1Yk9wdGllcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2NvbXBvbmVudF9vcHRpb25fdGh1bWJuYWlscycpO1xuXG5cbiAgICBjb25zdCBhZGRUb0NhcnRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiZGl2ID4gZGl2LmNvbXBvc2l0ZV9idXR0b24gPiAuc2luZ2xlX2FkZF90b19jYXJ0X2J1dHRvblwiKVxuXG4gICAgdmFyIG9wdGlvbnNDb3VudCA9IDA7XG4gICAgdmFyIGFhbnRhbFNlbGVjdGVkID0gMDtcblxuICAgIGZvciAobGV0IHNpbmdsZSBvZiBhYW50YWxTdWJPcHRpZXMpIHtcbiAgICAgICAgbGV0IHN1Yk9wdGllc0NoaWxkcyA9IHNpbmdsZS5jaGlsZHJlbjtcblxuICAgICAgICBvcHRpb25zQ291bnQgPSBvcHRpb25zQ291bnQgKyAxO1xuXG4gICAgICAgIGZvciAobGV0IG9wdGlvbk91dGVyIG9mIHN1Yk9wdGllc0NoaWxkcykge1xuICAgICAgICAgICAgbGV0IHNpbmdsZU9wdGlvbiA9IG9wdGlvbk91dGVyLmNoaWxkcmVuO1xuICAgICAgICAgICAgdmFyIGdsb2JhbENvdW50ID0gMDtcbiAgICAgICAgICAgIHZhciBhY3RpdmVDbGFzcyA9IDA7XG5cbiAgICAgICAgICAgIGZvciAobGV0IG9wdGlvbkxpIG9mIHNpbmdsZU9wdGlvbikge1xuICAgICAgICAgICAgICAgIGdsb2JhbENvdW50ID0gZ2xvYmFsQ291bnQgKyAxO1xuXG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbkxpLmNoaWxkcmVuWzBdLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKSkge1xuICAgICAgICAgICAgICAgICAgICBhY3RpdmVDbGFzcyA9IGFjdGl2ZUNsYXNzICsgMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYWN0aXZlQ2xhc3MpIHtcbiAgICAgICAgICAgICAgICBhYW50YWxTZWxlY3RlZCA9IGFhbnRhbFNlbGVjdGVkICsgMTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG4gICAgfVxuICAgIC8vIG9ubHkgY2hhbmdlIHN0eWxpbmcgb2YgdGhlIGFkZCB0byBjYXJ0IGJ1dHRvbiB3aGVuIHRoZXJlIGFyZSBtdWNoIHNlbGVjdGVkIGJveGVzIGFzIHJvd3Mgb2Ygb3B0aW9uc1xuICAgIGlmIChhZGRUb0NhcnRCdXR0b24pIHtcbiAgICAgICAgaWYgKGFhbnRhbFNlbGVjdGVkID09PSBvcHRpb25zQ291bnQpIHtcbiAgICAgICAgICAgIGFkZFRvQ2FydEJ1dHRvbi5zdHlsZS5vcGFjaXR5ID0gMTtcbiAgICAgICAgICAgIGFkZFRvQ2FydEJ1dHRvbi5zdHlsZS5wb2ludGVyRXZlbnRzID0gXCJhbGxcIlxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYWRkVG9DYXJ0QnV0dG9uLnN0eWxlLm9wYWNpdHkgPSAuNjtcbiAgICAgICAgICAgIGFkZFRvQ2FydEJ1dHRvbi5zdHlsZS5wb2ludGVyRXZlbnRzID0gXCJub25lXCJcbiAgICAgICAgfVxuICAgIH1cbn1cblxuXG5cblxuXG4vLyBjb25zdCB3ZWJzaG9wTWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5tZW51LXdlYnNob3AtY29udGFpbmVyID4gLm1lbnUtaXRlbScpXG4vLyBjb25zdCBcblxuLy8gZm9yKGxldCBpID0gMDsgaSA8IHdlYnNob3BNZW51Lmxlbmd0aDsgaSsrKSB7XG4vLyAgICAgd2Vic2hvcE1lbnVbaV0uYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZW50ZXJcIiwgZnVuY3Rpb24oIGV2ZW50ICkgeyAgIFxuLy8gICAgICAgICBldmVudC50YXJnZXQuc3R5bGUuY29sb3IgPSBcInB1cnBsZVwiO1xuXG4vLyAgICAgICB9LCBmYWxzZSk7XG4vLyB9XG5cblxuXG4iLCJ2YXIgdG9wMSA9IGZhbHNlXG52YXIgYm90dG9tID0gZmFsc2VcblxuZnVuY3Rpb24gZGVzY1ByZXNzKCkge1xuICAgIHZhciBkZXNjcmlwdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkZXNjcmlwdGlvbicpO1xuICAgIHZhciBhcnJvdyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudGFiX2luZm9cIik7XG4gICAgdG9wMSA9ICF0b3AxXG5cbiAgICBpZiAodG9wMSkge1xuICAgICAgICBkZXNjcmlwdGlvbi5jbGFzc0xpc3QuYWRkKFwic2hvd0Rlc2NcIik7XG4gICAgICAgIGFycm93LmNsYXNzTGlzdC5hZGQoXCJyb3RhdGVBcnJvd1wiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBhcnJvdy5jbGFzc0xpc3QucmVtb3ZlKFwicm90YXRlQXJyb3dcIik7XG4gICAgICAgIGRlc2NyaXB0aW9uLmNsYXNzTGlzdC5yZW1vdmUoXCJzaG93RGVzY1wiKVxuICAgIH1cbn1cblxuZnVuY3Rpb24gZXh0cmFQcmVzcygpIHtcbiAgICB2YXIgZGVzY3JpcHRpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRkaXRpb25hbCcpO1xuICAgIHZhciBhcnJvdyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudGFiX2luZm86bnRoLWNoaWxkKDIpXCIpO1xuICAgIGJvdHRvbSA9ICFib3R0b207XG5cbiAgICBpZiAoYm90dG9tKSB7XG4gICAgICAgIGFycm93LmNsYXNzTGlzdC5hZGQoXCJyb3RhdGVBcnJvd1wiKTtcbiAgICAgICAgZGVzY3JpcHRpb24uY2xhc3NMaXN0LmFkZChcInNob3dEZXNjXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGFycm93LmNsYXNzTGlzdC5yZW1vdmUoXCJyb3RhdGVBcnJvd1wiKTtcbiAgICAgICAgZGVzY3JpcHRpb24uY2xhc3NMaXN0LnJlbW92ZShcInNob3dEZXNjXCIpO1xuICAgIH1cbn1cblxuLy8gTWludXMgYW5kIFBsdXMgYnV0dG9ucyBxdWFudGl0eVxuXG5qUXVlcnkoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCQpe1xuXG4gICAgJCgnZm9ybS5jYXJ0Jykub24oICdjbGljaycsICdidXR0b24ucGx1cywgYnV0dG9uLm1pbnVzJywgZnVuY3Rpb24oKSB7XG5cbiAgICAvLyBHZXQgY3VycmVudCBxdWFudGl0eSB2YWx1ZXNcbiAgICB2YXIgcXR5ID0gJCggdGhpcyApLmNsb3Nlc3QoICdmb3JtLmNhcnQnICkuZmluZCggJy5xdHknICk7XG4gICAgdmFyIHZhbCAgID0gcGFyc2VGbG9hdChxdHkudmFsKCkpO1xuICAgIHZhciBtYXggPSBwYXJzZUZsb2F0KHF0eS5hdHRyKCAnbWF4JyApKTtcbiAgICB2YXIgbWluID0gcGFyc2VGbG9hdChxdHkuYXR0ciggJ21pbicgKSk7XG4gICAgdmFyIHN0ZXAgPSBwYXJzZUZsb2F0KHF0eS5hdHRyKCAnc3RlcCcgKSk7XG5cbiAgICAvLyBDaGFuZ2UgdGhlIHZhbHVlIGlmIHBsdXMgb3IgbWludXNcbiAgICBpZiAoICQoIHRoaXMgKS5pcyggJy5wbHVzJyApICkge1xuICAgICAgIGlmICggbWF4ICYmICggbWF4IDw9IHZhbCApICkge1xuICAgICAgICAgIHF0eS52YWwoIG1heCApO1xuICAgICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICBxdHkudmFsKCB2YWwgKyBzdGVwICk7XG4gICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgIGlmICggbWluICYmICggbWluID49IHZhbCApICkge1xuICAgICAgICAgIHF0eS52YWwoIG1pbiApO1xuICAgICAgIH1cbiAgICAgICBlbHNlIGlmICggdmFsID4gMSApIHtcbiAgICAgICAgICBxdHkudmFsKCB2YWwgLSBzdGVwICk7XG4gICAgICAgfVxuICAgIH1cblxuIH0pO1xuXG59KTtcblxuXG4vLyBBamF4IHF1YW50aXR5IGFkZFxuXG52YXIgdGltZW91dDtcblxualF1ZXJ5KCBmdW5jdGlvbiggJCApIHtcblx0JCgnLndvb2NvbW1lcmNlJykub24oJ2NoYW5nZScsICdpbnB1dC5xdHknLCBmdW5jdGlvbigpe1xuXG5cdFx0aWYgKCB0aW1lb3V0ICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRjbGVhclRpbWVvdXQoIHRpbWVvdXQgKTtcblx0XHR9XG5cblx0XHR0aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcblx0XHRcdCQoXCJbbmFtZT0ndXBkYXRlX2NhcnQnXVwiKS50cmlnZ2VyKFwiY2xpY2tcIik7XG5cdFx0fSwgNTAwICk7IC8vIDAuNSBzZWNvbmQgZGVsYXlcblxuXHR9ICk7XG59ICk7XG5cblxuLy8gZ2V0dGluZyBhbGwgaW5wdXQgY29uc3RzIGZvciB0aGUgY2hlY2tvdXQgcHJvY2Vzc1xuY29uc3Qgdm9vcm5hYW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYmlsbGluZ19maXJzdF9uYW1lJylcbmNvbnN0IHNoaXBWb29ybmFhbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzaGlwcGluZ19maXJzdF9uYW1lJylcbmNvbnN0IGFjaHRlcm5hYW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYmlsbGluZ19sYXN0X25hbWUnKVxuY29uc3Qgc2hpcEFjaHRlcm5hYW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2hpcHBpbmdfbGFzdF9uYW1lJylcbmNvbnN0IHN0cmFhdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiaWxsaW5nX2FkZHJlc3NfMScpXG5jb25zdCBzaGlwU3RyYWF0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NoaXBwaW5nX2FkZHJlc3NfMScpXG5jb25zdCBwb3N0Y29kZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiaWxsaW5nX3Bvc3Rjb2RlJylcbmNvbnN0IHNoaXBQb3N0Y29kZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzaGlwcGluZ19wb3N0Y29kZScpXG5jb25zdCBwbGFhdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYmlsbGluZ19jaXR5JylcbmNvbnN0IHNoaXBQbGFhdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2hpcHBpbmdfY2l0eScpXG5jb25zdCBlbWFpbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiaWxsaW5nX2VtYWlsJylcbmNvbnN0IHBob25lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JpbGxpbmdfcGhvbmUnKVxuY29uc3QgYmVkcmlqZiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiaWxsaW5nX2NvbXBhbnknKVxuY29uc3Qgc2hpcEJlZHJpamYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2hpcHBpbmdfY29tcGFueScpXG5cbmNvbnN0IGRpZmZlcmVudEFkcmVzcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzaGlwLXRvLWRpZmZlcmVudC1hZGRyZXNzLWNoZWNrYm94Jyk7XG5jb25zdCBlcnJvck1lc3NhZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZm9ybVZhbGlkYXRpb24nKTtcbmNvbnN0IHN0ZXBXcmFwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NoZWNrb3V0V3JhcCcpO1xuY29uc3QgY2hlY2tTdGVwMSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdGFwMScpO1xuY29uc3QgY2hlY2tTdGVwMiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdGFwMicpO1xuY29uc3QgY2hlY2tTdGVwMyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdGFwMycpO1xuY29uc3QgY2hlY2tTdGVwNCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdGFwNCcpO1xuXG5cbmZ1bmN0aW9uIG5leHRTdGVwQ2hlY2tvdXQoY3VycmVudFN0ZXApIHsgLy8gTWFrZXMgdGhlICdOZXh0JyBidXR0b24gd29yayBpbiBjaGVja291dFxuXG4gICAgdmFyIHZlcmRlciA9IHRydWU7XG4gICAgaWYgKCF2b29ybmFhbS52YWx1ZSB8fCAhYWNodGVybmFhbS52YWx1ZSB8fCAhc3RyYWF0LnZhbHVlIHx8ICFwb3N0Y29kZS52YWx1ZSB8fCAhcGxhYXRzLnZhbHVlIHx8ICFlbWFpbC52YWx1ZSB8fCAhcGhvbmUudmFsdWUpIHtcbiAgICAgICAgdmVyZGVyID0gZmFsc2U7XG4gICAgfVxuICAgIFxuICAgIHZhciB2ZXJkZXJTaGlwID0gdHJ1ZTtcbiAgICBpZighc2hpcFZvb3JuYWFtLnZhbHVlIHx8ICFzaGlwQWNodGVybmFhbS52YWx1ZSB8fCAhc2hpcFN0cmFhdC52YWx1ZSB8fCAhc2hpcFBvc3Rjb2RlLnZhbHVlIHx8ICFzaGlwUGxhYXRzLnZhbHVlICkge1xuICAgICAgICB2ZXJkZXJTaGlwID0gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYoY3VycmVudFN0ZXApIHtcbiAgICAgICAgZm9ybVZhbGlkYXRpb24uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICAgIGlmKGN1cnJlbnRTdGVwID09ICcxJykge1xuICAgICAgICAgICAgaWYodmVyZGVyKSB7XG4gICAgICAgICAgICAgICAgc3RlcFdyYXAuY2xhc3NMaXN0LmFkZCgnc3RlcF8yJyk7XG5cbiAgICAgICAgICAgICAgICBjaGVja1N0ZXAxLmNsYXNzTGlzdC5hZGQoJ2RvbmUnKTtcbiAgICAgICAgICAgICAgICBjaGVja1N0ZXAxLmNsYXNzTGlzdC5yZW1vdmUoJ2N1cnJlbnQnKTtcbiAgICAgICAgICAgICAgICBjaGVja1N0ZXAyLmNsYXNzTGlzdC5hZGQoJ2N1cnJlbnQnKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZm9ybVZhbGlkYXRpb24uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYoY3VycmVudFN0ZXAgPT0gJzInKSB7XG4gICAgICAgICAgICBpZih2ZXJkZXJTaGlwIHx8ICFkaWZmZXJlbnRBZHJlc3MuY2hlY2tlZCkge1xuICAgICAgICAgICAgICAgIHN0ZXBXcmFwLmNsYXNzTGlzdC5hZGQoJ3N0ZXBfMycpO1xuXG4gICAgICAgICAgICAgICAgY2hlY2tTdGVwMi5jbGFzc0xpc3QuYWRkKCdkb25lJyk7XG4gICAgICAgICAgICAgICAgY2hlY2tTdGVwMi5jbGFzc0xpc3QucmVtb3ZlKCdjdXJyZW50Jyk7XG4gICAgICAgICAgICAgICAgY2hlY2tTdGVwMy5jbGFzc0xpc3QuYWRkKCdjdXJyZW50Jyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZvcm1WYWxpZGF0aW9uLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmKGN1cnJlbnRTdGVwID09ICczJykge1xuICAgICAgICAgICAgc3RlcFdyYXAuY2xhc3NMaXN0LmFkZCgnc3RlcF80Jyk7XG5cbiAgICAgICAgICAgIGNoZWNrU3RlcDMuY2xhc3NMaXN0LmFkZCgnZG9uZScpO1xuICAgICAgICAgICAgY2hlY2tTdGVwMy5jbGFzc0xpc3QucmVtb3ZlKCdjdXJyZW50Jyk7XG4gICAgICAgICAgICBjaGVja1N0ZXA0LmNsYXNzTGlzdC5hZGQoJ2N1cnJlbnQnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBvcmRlckluZm8oKTtcbiAgICBzY3JvbGxUb3AoKTtcbn1cblxuXG5mdW5jdGlvbiBwcmV2U3RlcENoZWNrb3V0KGN1cnJlbnRTdGVwKSB7ICAvLyBNYWtlcyB0aGUgJ1ByZXZpb3VzJyBidXR0b24gd29yayBpbiBjaGVja291dFxuXG4gICAgaWYoY3VycmVudFN0ZXApIHtcbiAgICAgICAgaWYoY3VycmVudFN0ZXAgPT0gJzInKSB7XG4gICAgICAgICAgICBzdGVwV3JhcC5jbGFzc0xpc3QucmVtb3ZlKCdzdGVwXzInKTtcbiAgICAgICAgICAgIHN0ZXBXcmFwLmNsYXNzTGlzdC5yZW1vdmUoJ3N0ZXBfMycpO1xuICAgICAgICAgICAgc3RlcFdyYXAuY2xhc3NMaXN0LnJlbW92ZSgnc3RlcF80Jyk7XG5cbiAgICAgICAgICAgIGNoZWNrU3RlcDEuY2xhc3NMaXN0LnJlbW92ZSgnZG9uZScpO1xuICAgICAgICAgICAgY2hlY2tTdGVwMi5jbGFzc0xpc3QucmVtb3ZlKCdkb25lJyk7XG4gICAgICAgICAgICBjaGVja1N0ZXAzLmNsYXNzTGlzdC5yZW1vdmUoJ2RvbmUnKTtcbiAgICAgICAgICAgIGNoZWNrU3RlcDIuY2xhc3NMaXN0LnJlbW92ZSgnY3VycmVudCcpO1xuICAgICAgICAgICAgY2hlY2tTdGVwMy5jbGFzc0xpc3QucmVtb3ZlKCdjdXJyZW50Jyk7XG4gICAgICAgICAgICBjaGVja1N0ZXA0LmNsYXNzTGlzdC5yZW1vdmUoJ2N1cnJlbnQnKTtcblxuICAgICAgICAgICAgY2hlY2tTdGVwMS5jbGFzc0xpc3QuYWRkKCdjdXJyZW50Jyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYoY3VycmVudFN0ZXAgPT0gJzMnICYmICFzdGVwV3JhcC5jbGFzc0xpc3QuY29udGFpbnMoJ3N0ZXBfNCcpKSB7XG4gICAgICAgICAgICBzdGVwV3JhcC5jbGFzc0xpc3QucmVtb3ZlKCdzdGVwXzMnKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY2hlY2tTdGVwMy5jbGFzc0xpc3QucmVtb3ZlKCdkb25lJyk7XG4gICAgICAgICAgICBjaGVja1N0ZXAzLmNsYXNzTGlzdC5yZW1vdmUoJ2N1cnJlbnQnKTtcbiAgICAgICAgICAgIGNoZWNrU3RlcDQuY2xhc3NMaXN0LnJlbW92ZSgnY3VycmVudCcpO1xuXG4gICAgICAgICAgICBjaGVja1N0ZXAyLmNsYXNzTGlzdC5yZW1vdmUoJ2RvbmUnKTtcbiAgICAgICAgICAgIGNoZWNrU3RlcDIuY2xhc3NMaXN0LmFkZCgnY3VycmVudCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYoY3VycmVudFN0ZXAgPT0gJzMnICYmIHN0ZXBXcmFwLmNsYXNzTGlzdC5jb250YWlucygnc3RlcF80JykpIHtcbiAgICAgICAgICAgIHN0ZXBXcmFwLmNsYXNzTGlzdC5yZW1vdmUoJ3N0ZXBfNCcpO1xuXG4gICAgICAgICAgICBjaGVja1N0ZXA0LmNsYXNzTGlzdC5yZW1vdmUoJ2N1cnJlbnQnKTtcblxuICAgICAgICAgICAgY2hlY2tTdGVwMy5jbGFzc0xpc3QucmVtb3ZlKCdkb25lJyk7XG4gICAgICAgICAgICBjaGVja1N0ZXAzLmNsYXNzTGlzdC5hZGQoJ2N1cnJlbnQnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBvcmRlckluZm8oKTtcbiAgICBzY3JvbGxUb3AoKTtcbn1cblxuZnVuY3Rpb24gbmF2U3RlcENoZWNrb3V0KGN1cnJlbnRTdGVwKSB7IC8vIE1ha2VzIHRoZSBzdGVwcyBjbGlja2FibGVcblxuICAgIHZhciB2ZXJkZXIgPSB0cnVlO1xuICAgIFxuICAgIGlmICghdm9vcm5hYW0udmFsdWUgfHwgIWFjaHRlcm5hYW0udmFsdWUgfHwgIXN0cmFhdC52YWx1ZSB8fCAhcG9zdGNvZGUudmFsdWUgfHwgIXBsYWF0cy52YWx1ZSB8fCAhZW1haWwudmFsdWUgfHwgIXBob25lLnZhbHVlKSB7XG4gICAgICAgIHZlcmRlciA9IGZhbHNlO1xuICAgIH1cbiAgICBcbiAgICBpZihjdXJyZW50U3RlcCA9PSAnMScpIHtcbiAgICAgICAgc3RlcFdyYXAuY2xhc3NMaXN0LnJlbW92ZSgnc3RlcF8yJyk7ICBcbiAgICAgICAgc3RlcFdyYXAuY2xhc3NMaXN0LnJlbW92ZSgnc3RlcF8zJyk7ICBcbiAgICAgICAgc3RlcFdyYXAuY2xhc3NMaXN0LnJlbW92ZSgnc3RlcF80Jyk7XG5cbiAgICAgICAgc3RlcFdyYXAuY2xhc3NMaXN0LmFkZCgnc3RlcF8xJyk7XG5cbiAgICAgICAgY2hlY2tTdGVwMS5jbGFzc0xpc3QuYWRkKCdjdXJyZW50Jyk7XG4gICAgICAgIFxuICAgICAgICBjaGVja1N0ZXAyLmNsYXNzTGlzdC5yZW1vdmUoJ2N1cnJlbnQnKTtcbiAgICAgICAgY2hlY2tTdGVwMi5jbGFzc0xpc3QucmVtb3ZlKCdkb25lJyk7XG4gICAgICAgIGNoZWNrU3RlcDMuY2xhc3NMaXN0LnJlbW92ZSgnY3VycmVudCcpO1xuICAgICAgICBjaGVja1N0ZXAzLmNsYXNzTGlzdC5yZW1vdmUoJ2RvbmUnKTtcbiAgICAgICAgY2hlY2tTdGVwNC5jbGFzc0xpc3QucmVtb3ZlKCdjdXJyZW50Jyk7XG4gICAgICAgIGNoZWNrU3RlcDQuY2xhc3NMaXN0LnJlbW92ZSgnZG9uZScpO1xuICAgIH1cblxuICAgIGlmKHZlcmRlcikge1xuXG4gICAgICAgIGlmKGN1cnJlbnRTdGVwID09ICcyJykge1xuICAgICAgICAgICAgc3RlcFdyYXAuY2xhc3NMaXN0LnJlbW92ZSgnc3RlcF8xJyk7XG4gICAgICAgICAgICBzdGVwV3JhcC5jbGFzc0xpc3QucmVtb3ZlKCdzdGVwXzMnKTtcbiAgICAgICAgICAgIHN0ZXBXcmFwLmNsYXNzTGlzdC5yZW1vdmUoJ3N0ZXBfNCcpO1xuXG4gICAgICAgICAgICBzdGVwV3JhcC5jbGFzc0xpc3QuYWRkKCdzdGVwXzInKTtcblxuICAgICAgICAgICAgY2hlY2tTdGVwMS5jbGFzc0xpc3QuYWRkKCdkb25lJyk7XG4gICAgICAgICAgICBjaGVja1N0ZXAyLmNsYXNzTGlzdC5hZGQoJ2N1cnJlbnQnKTtcblxuICAgICAgICAgICAgY2hlY2tTdGVwMy5jbGFzc0xpc3QucmVtb3ZlKCdjdXJyZW50Jyk7XG4gICAgICAgICAgICBjaGVja1N0ZXAzLmNsYXNzTGlzdC5yZW1vdmUoJ2RvbmUnKTtcbiAgICAgICAgICAgIGNoZWNrU3RlcDQuY2xhc3NMaXN0LnJlbW92ZSgnY3VycmVudCcpO1xuICAgICAgICAgICAgY2hlY2tTdGVwNC5jbGFzc0xpc3QucmVtb3ZlKCdkb25lJyk7XG4gICAgICAgIH0gXG5cbiAgICAgICAgaWYoY3VycmVudFN0ZXAgPT0gJzMnKSB7XG4gICAgICAgICAgICBzdGVwV3JhcC5jbGFzc0xpc3QucmVtb3ZlKCdzdGVwXzEnKTtcbiAgICAgICAgICAgIHN0ZXBXcmFwLmNsYXNzTGlzdC5yZW1vdmUoJ3N0ZXBfMicpOyAgXG4gICAgICAgICAgICBzdGVwV3JhcC5jbGFzc0xpc3QucmVtb3ZlKCdzdGVwXzQnKTsgIFxuXG4gICAgICAgICAgICBzdGVwV3JhcC5jbGFzc0xpc3QuYWRkKCdzdGVwXzMnKTsgXG5cbiAgICAgICAgICAgIGNoZWNrU3RlcDEuY2xhc3NMaXN0LmFkZCgnZG9uZScpO1xuICAgICAgICAgICAgY2hlY2tTdGVwMi5jbGFzc0xpc3QuYWRkKCdkb25lJyk7XG4gICAgICAgICAgICBjaGVja1N0ZXAzLmNsYXNzTGlzdC5hZGQoJ2N1cnJlbnQnKTtcblxuICAgICAgICAgICAgY2hlY2tTdGVwNC5jbGFzc0xpc3QucmVtb3ZlKCdjdXJyZW50Jyk7XG4gICAgICAgICAgICBjaGVja1N0ZXA0LmNsYXNzTGlzdC5yZW1vdmUoJ2RvbmUnKTtcbiAgICAgICAgfSBcblxuICAgICAgICBpZihjdXJyZW50U3RlcCA9PSAnNCcpIHtcbiAgICAgICAgICAgIHN0ZXBXcmFwLmNsYXNzTGlzdC5yZW1vdmUoJ3N0ZXBfMScpO1xuICAgICAgICAgICAgc3RlcFdyYXAuY2xhc3NMaXN0LnJlbW92ZSgnc3RlcF8yJyk7ICBcbiAgICAgICAgICAgIHN0ZXBXcmFwLmNsYXNzTGlzdC5yZW1vdmUoJ3N0ZXBfMycpOyAgXG5cbiAgICAgICAgICAgIHN0ZXBXcmFwLmNsYXNzTGlzdC5hZGQoJ3N0ZXBfNCcpOyAgXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNoZWNrU3RlcDEuY2xhc3NMaXN0LmFkZCgnZG9uZScpO1xuICAgICAgICAgICAgY2hlY2tTdGVwMi5jbGFzc0xpc3QuYWRkKCdkb25lJyk7XG4gICAgICAgICAgICBjaGVja1N0ZXAzLmNsYXNzTGlzdC5hZGQoJ2RvbmUnKTtcbiAgICAgICAgICAgIGNoZWNrU3RlcDQuY2xhc3NMaXN0LmFkZCgnY3VycmVudCcpO1xuICAgICAgICB9IFxuXG4gICAgfSBlbHNlIHtcbiAgICAgICAgZm9ybVZhbGlkYXRpb24uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgfVxuICAgIG9yZGVySW5mbygpO1xuICAgIHNjcm9sbFRvcCgpO1xufVxuXG5cbmZ1bmN0aW9uIG9yZGVySW5mbygpIHtcbiAgICAvLyBHZW5lcmFsIGluZm9cbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZpcnN0bmFtZVwiKS5pbm5lckhUTUwgPSB2b29ybmFhbS52YWx1ZTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxhc3RuYW1lXCIpLmlubmVySFRNTCA9IGFjaHRlcm5hYW0udmFsdWU7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb21wYW55XCIpLmlubmVySFRNTCA9IGJlZHJpamYudmFsdWU7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzdHJlZXRcIikuaW5uZXJIVE1MID0gc3RyYWF0LnZhbHVlO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiemlwY29kZVwiKS5pbm5lckhUTUwgPSBwb3N0Y29kZS52YWx1ZTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNpdHlcIikuaW5uZXJIVE1MID0gcGxhYXRzLnZhbHVlO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGhvbmVcIikuaW5uZXJIVE1MID0gcGhvbmUudmFsdWU7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJlbWFpbFwiKS5pbm5lckhUTUwgPSBlbWFpbC52YWx1ZTtcbiAgICAvLyBTaGlwcGluZyBpbmZvXG4gICAgaWYoZGlmZmVyZW50QWRyZXNzLmNoZWNrZWQpIHtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzaGlwZmlyc3RuYW1lXCIpLmlubmVySFRNTCA9IHNoaXBWb29ybmFhbS52YWx1ZTtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzaGlwbGFzdG5hbWVcIikuaW5uZXJIVE1MID0gc2hpcEFjaHRlcm5hYW0udmFsdWU7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2hpcGNvbXBhbnlcIikuaW5uZXJIVE1MID0gc2hpcEJlZHJpamYudmFsdWU7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2hpcHN0cmVldFwiKS5pbm5lckhUTUwgPSBzaGlwU3RyYWF0LnZhbHVlO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNoaXB6aXBjb2RlXCIpLmlubmVySFRNTCA9IHNoaXBQb3N0Y29kZS52YWx1ZTtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzaGlwY2l0eVwiKS5pbm5lckhUTUwgPSBzaGlwUGxhYXRzLnZhbHVlO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2hpcGZpcnN0bmFtZVwiKS5pbm5lckhUTUwgPSB2b29ybmFhbS52YWx1ZTtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzaGlwbGFzdG5hbWVcIikuaW5uZXJIVE1MID0gYWNodGVybmFhbS52YWx1ZTtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzaGlwY29tcGFueVwiKS5pbm5lckhUTUwgPSBiZWRyaWpmLnZhbHVlO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNoaXBzdHJlZXRcIikuaW5uZXJIVE1MID0gc3RyYWF0LnZhbHVlO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNoaXB6aXBjb2RlXCIpLmlubmVySFRNTCA9IHBvc3Rjb2RlLnZhbHVlO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNoaXBjaXR5XCIpLmlubmVySFRNTCA9IHBsYWF0cy52YWx1ZTtcbiAgICB9XG59XG5cblxuZnVuY3Rpb24gc2Nyb2xsVG9wKCkge1xuICAgIHdpbmRvdy5zY3JvbGxUbyh7IHRvcDogMCwgYmVoYXZpb3I6ICdzbW9vdGgnIH0pO1xufVxuXG5cblxuLy8gT3BlbiBwcm9kdWN0IG1vZGFsXG5mdW5jdGlvbiBwcm9kdWN0TW9kYWwocHJvZHVjdFRpdGxlLCBwcm9kdWN0TGluaywgcHJvZHVjdEltZ1VybCkge1xuICAgIC8vIGdldHMgaW5uZXIgYW5kIG91dGVyIG1vZGFsc1xuICAgIHZhciB0aGVNb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHJvZHVjdE1vZGFsXCIpO1xuICAgIHZhciB0aGVNb2RhbElubmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcm9kdWN0TW9kYWxJbm5lclwiKTtcblxuICAgIC8vIGNoYW5nZXMgdGhlIGh0bWwgd2l0aCB0aGUgbmV3IHBhcmFtZXRlciBkYXRhIGluc2lkZSBvZiBpdFxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbWdXcmFwcGVyJykuaW5uZXJIVE1MID0gJzxhIGhyZWY9XCInICsgcHJvZHVjdExpbmsgKyAnXCI+PGltZyBjbGFzcz1cIm1vZGFsUHJvZHVjdEltYWdlXCIgc3JjPVwiJyArIHByb2R1Y3RJbWdVcmwgKyAnXCIvPjwvYT4nO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHJvZHVjdFRpdGxlXCIpLmlubmVySFRNTCA9IHByb2R1Y3RUaXRsZTtcblxuICAgIC8vIGFkZHMgdGhlIGFjdGl2ZSBjbGFzcyB0byB0aGUgbW9kYWxcbiAgICB0aGVNb2RhbC5jbGFzc0xpc3QuYWRkKCdtb2RhbF9fY2FydC0tYWN0aXZlJyk7XG4gICAgLy8gdGhlTW9kYWxJbm5lci5jbGFzc0xpc3QuYWRkKCdwcm9kdWN0X21vZGFsLWFuaW1hdGlvbicpO1xuXG4gICAgcGFnZU92ZXJsYXkuY2xhc3NMaXN0LnJlbW92ZShcInBhZ2Utb3ZlcmxheVwiKTtcbiAgICBwYWdlT3ZlcmxheS5jbGFzc0xpc3QuYWRkKFwicGFnZS1vdmVybGF5LS1hY3RpdmVcIik7XG59XG5cbi8vIENsb3NlIHByb2R1Y3QgbW9kYWxcbmZ1bmN0aW9uIGNsb3NlUHJvZHVjdE1vZGFsKCkge1xuICAgIC8vIGdyYWJzIG1vZGFsIGJ5IHRoZSBpZCBhbmQgdGhlbiByZW1vdmUgdGhlIGFjdGl2ZSBjbGFzc1xuICAgIHZhciB0aGVNb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHJvZHVjdE1vZGFsXCIpO1xuICAgIHRoZU1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ21vZGFsX19jYXJ0LS1hY3RpdmUnKTtcblxuICAgIHBhZ2VPdmVybGF5LmNsYXNzTGlzdC5yZW1vdmUoXCJwYWdlLW92ZXJsYXktLWFjdGl2ZVwiKTtcbiAgICBwYWdlT3ZlcmxheS5jbGFzc0xpc3QuYWRkKFwicGFnZS1vdmVybGF5XCIpO1xufVxuXG5cbi8vIEFkZCBpbmNWQVQgcHJpY2UgdGhhdCBjaGFuZ2VzIHdpdGggdGhlIGNvbXBvc2l0ZSBwcmljZVxuXG4vLyBCRUdJTiBsaXN0ZW5lcnMgdG8gcHJpY2VcbnNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgIHZhciBwcm9kdWN0UHJpY2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJpY2VXYXRjaCcpXG4gICAgaWYgKHByb2R1Y3RQcmljZSkge1xuICAgICAgICB2YXIgcHJvZHVjdFNlbGVjdGlvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdzZWxlY3QnKVxuICAgICAgICBpZiAocHJvZHVjdFNlbGVjdGlvbnMpIHtcbiAgICAgICAgICAgIHByb2R1Y3RTZWxlY3Rpb25zLmZvckVhY2goc2VsZWN0aW9uID0+IHtcbiAgICAgICAgICAgICAgICBzZWxlY3Rpb24uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGluY1ZBVCwgNTAwKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGluY1ZBVCwgNTAwKTtcbiAgICAgICAgfSlcbiAgICB9XG59LCA2MDApO1xuXG4vLyBTaG93IGluY1ZBVCBwcmljZSBmb3IgcHJvZHVjdFxuZnVuY3Rpb24gaW5jVkFUKCkge1xuICAgIHZhciBpbnB1dDEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNvbXBvc2l0ZV9kYXRhID4gZGl2ID4gZGl2LmNvbXBvc2l0ZXByaWNlX3dyYXBwZXIgPiBkaXYuY29tcG9zaXRlX3ByaWNlID4gcCBzcGFuXCIpO1xuXG4gICAgaWYgKGlucHV0MSkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gaW5wdXQxLmlubmVyVGV4dDtcbiAgICAgICAgdmFyIHJlc3VsdGZpeCA9IHJlc3VsdC5yZXBsYWNlKC8sL2csICcuJyk7XG4gICAgICAgIHZhciByZXN1bHRjYWxjID0gKHJlc3VsdGZpeCAqIDEuMjEpLnRvRml4ZWQoMik7XG4gICAgICAgIHZhciBmaW5hbFJlc3VsdCA9IHJlc3VsdGNhbGMucmVwbGFjZSgnLicsICcsJyk7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaW5jVkFUcHJpY2VcIikuaW5uZXJIVE1MID0gZmluYWxSZXN1bHQ7XG4gICAgfVxufVxuXG5mdW5jdGlvbiB3YXRjaFNlbGVjdGlvbnMoKSB7XG4gICAgdmFyIGRyb3Bkb3duU2VsZWN0aW9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy52YXJpYXRpb25zIHNlbGVjdCwgLnF1YW50aXR5IGlucHV0JylcbiAgICBpZiAoZHJvcGRvd25TZWxlY3Rpb25zKSB7XG4gICAgICAgIGRyb3Bkb3duU2VsZWN0aW9ucy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgICAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaW5jVkFUKCk7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChwcm9kdWN0VG90YWwsIDYwMClcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgfVxufVxuXG4vLyBTaG93IHRvdGFsIHByaWNlIGZvciBhY2Nlc3NvaXJlc1xuZnVuY3Rpb24gcHJvZHVjdFRvdGFsKCkge1xuICAgIHZhciBpbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY29tcG9zaXRlX2RhdGEgPiBkaXYgPiBkaXYuY29tcG9zaXRlcHJpY2Vfd3JhcHBlciA+IGRpdi5jb21wb3NpdGVfcHJpY2UgPiBwIHNwYW5cIik7XG4gICAgdmFyIHByb2R1Y3RUb3RhbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2R1Y3RUb3RhbHNcIik7XG4gICAgaWYgKGlucHV0KSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBpbnB1dC5pbm5lclRleHQ7XG4gICAgfVxuICAgIGlmIChwcm9kdWN0VG90YWxzKSB7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZHVjdFRvdGFsc1wiKS5pbm5lckhUTUwgPSByZXN1bHQ7XG4gICAgfVxufVxuXG5cbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKGV2ZW50KSA9PiB7XG4gICAgc2V0VGltZW91dChwcm9kdWN0VG90YWwsIDEwMCk7XG4gICAgc2V0VGltZW91dChpbmNWQVQsIDYwMCk7XG5cbiAgICB2YXIgcmFkaW9CdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnJhZGlvX2J1dHRvbicpO1xuXG4gICAgaWYgKHJhZGlvQnV0dG9ucykge1xuICAgICAgICByYWRpb0J1dHRvbnMuZm9yRWFjaChidXR0b24gPT4ge1xuICAgICAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGluY1ZBVCgpO1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBwcm9kdWN0VG90YWwoKVxuICAgICAgICAgICAgICAgICAgICB3YXRjaFNlbGVjdGlvbnMoKVxuICAgICAgICAgICAgICAgIH0sIDEzMDApXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgb25jZTogZmFsc2VcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgfVxufSk7XG5cbi8vVGltZWQgb3V0IGZ1bmN0aW9uIGZvciBWQVQgUHJpY2UgZm9yIEFjY2Vzc29pcmVzXG5mdW5jdGlvbiBpbmNWQVR0aW1lKCkge1xuICAgIHNldFRpbWVvdXQoaW5jVkFULCA1MDApO1xufVxuXG5cbi8vSW50ZXJ2YWwgZm9yIHRvdGFscHJpY2UgQWNjZXNzb2lyZXMgYm94XG52YXIgcHJvZHVjdFByaWNlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ByaWNlV2F0Y2gnKTtcblxuaWYgKHByb2R1Y3RQcmljZSkge1xuICAgIHNldEludGVydmFsKHByb2R1Y3RUb3RhbCwgMTAwMClcbn0iXX0=
